#
# Container Kill 
#
# Checking if container already exist with the same name 
# If it does, lets remove it and boot another one. 
#
# TODO: change this to a restart instead of a fresh container 
#
container_kill () {
    OUTPUT=$(docker ps -a | grep -a $1)
    if [ $OUTPUT ]; then 
        docker rm -f $1 >> /dev/null 
    fi
}

#
# Worlflow Aliases 
#
# These aliases will provide a simple way to work with common tools 
# but will prevent system from getting bloated. 
#

# Command Line Interfaces
alias aws="container_kill aws-cli; docker run -v $HOME/.aws::/root/.aws --name aws-cli cgswong/aws:latest aws"
alias aws-shell="container_kill aws-shell; docker run -v $HOME/.aws:/root/.aws -it --name aws-shell pahud/aws-shell:latest"

# DevOps build tools
alias terraform="container_kill terraform; docker -v $(pwd):/data --name terraform hashicorp/terraform:latest"
alias packer="container_kill packer; docker -v $(pwd):/data --name packer hasicorp/packer:latest"

# Node / Javascript
alias bower="container_kill bower; docker -v $(pwd):/data --name bower digitallyseamless/nodejs-bower-grunt bower"
alias npm="container_kill npm; docker run -v $(pwd):/data --name npm --rm digitallyseamless/nodejs-bower-grunt npm"
alias grunt="container_kill grunt; docker run -v $(pwd):/data --name grunt --rm digitallyseamless/nodejs-bower-grunt grunt"

# Microsoft 
alias azure="container_kill azure; docker run -it --name azure microsoft/azure-cli:latest"
alias powershell="container_kill powershell; docker run -it --name powershell microsoft/powershell"